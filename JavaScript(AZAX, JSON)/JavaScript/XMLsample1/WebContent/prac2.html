<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<p id="demo"></p>

	<script type="text/javascript">
		let xhttp = new XMLHttpRequest();

		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				nodeValueFunc(this);
				//nodeNameFunc(this);
				//childNodeFunc(this);
			}
		}
		xhttp.open("GET", 'Book.xml', true);
		xhttp.send();

		function nodeValueFunc(xml) {
			let num, name;
			let txt, numtxt, xmlDoc;

			txt = numtxt = "";
			xmlDoc = xml.responseXML;
			console.log(xmlDoc);

			num1 = xmlDoc.getElementsByTagName("제목");
			name1 = xmlDoc.getElementsByTagName("제목");

			num = xmlDoc.getElementsByTagName("저자");
			name = xmlDoc.getElementsByTagName("저자");

			num2 = xmlDoc.getElementsByTagName("가격");
			name2 = xmlDoc.getElementsByTagName("가격");

			num3 = xmlDoc.getElementsByTagName("발행일");
			name3 = xmlDoc.getElementsByTagName("발행일");

			console.log(num.length);

			txt += "<table border='1'>";
			txt += "<tr><td>"+"</td><td>제목</td><td>저자</td><td>가격</td><td>발행일</tr>";
			for (var i = 0; i < num.length; i++) {
				txt += "<tr><td>"+(i + 1)+"</td>"+"<td>"+num1[i].childNodes[0].nodeValue+"</td>"+"<td>"+num[i].childNodes[0].nodeValue+"</td>"+"<td>"+num2[i].childNodes[0].nodeValue+"</td>"+"<td>"+num3[i].childNodes[0].nodeValue+"</td>";

			}

			document.getElementById("demo").innerHTML = txt + numtxt;
		}

		function nodeNameFunc(xml) {
			let arr, xmlDoc, txt;

			txt = "";

			xmlDoc = xml.responseXML;
			arr = xmlDoc.documentElement;

			for (var i = 0; i < arr.length; i++) {
				if (arr[i].nodeType == 1) {
					txt += arr[i].nodeName + " " + arr[i].nodeType + "<br>";
				}
			}

			document.getElementById("demo").innerHTML = txt;
		}

		function childNodeFunc(xml) {
			let arr, xmlDoc, txt;

			txt = "";

			xmlDoc = xml.responseXML;

			arr = xmlDoc.getElementsByTagName("고객")[0];
			let len = arr.childNodes.length;
			console.log(len);

			let fchild = arr.firstChild;

			for (var i = 0; i < len; i++) {
				if (fchild.nodeType == 1) {
					txt += i + " " + fchild.nodeName + "<br>";
				}
				fchild = fchild.nextSibling;
			}
			document.getElementById("demo").innerHTML = txt;
		}
	</script>

</body>
</html>





